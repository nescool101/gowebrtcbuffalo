<div class="row">
  <div class="col-md-12">
    <h1>WebRTC Video Chat</h1>
    
    <div class="video-container">
      <div class="video-box">
        <h3>Local Video</h3>
        <video id="localVideo" autoplay muted playsinline></video>
      </div>
      
      <div class="video-box">
        <h3>Remote Video</h3>
        <video id="remoteVideo" autoplay playsinline></video>
      </div>
    </div>
    
    <div class="controls">
      <button id="startButton" class="btn btn-primary">Start Camera</button>
      <button id="callButton" class="btn btn-success" disabled>Call</button>
      <button id="hangupButton" class="btn btn-danger" disabled>Hang Up</button>
    </div>
  </div>
</div>

<%= javascriptTag("webrtc.js") %>

<style>
  .video-container {
    display: flex;
    justify-content: space-between;
    margin-bottom: 20px;
  }
  
  .video-box {
    width: 48%;
  }
  
  video {
    width: 100%;
    border: 1px solid #ccc;
    background-color: #f0f0f0;
    border-radius: 5px;
  }
  
  .controls {
    text-align: center;
  }
  
  .controls button {
    margin: 0 10px;
  }
</style>

<script>
  // Enable/disable buttons appropriately
  document.getElementById('startButton').addEventListener('click', () => {
    document.getElementById('startButton').disabled = true;
    document.getElementById('callButton').disabled = false;
    document.getElementById('hangupButton').disabled = false;
  });
  
  document.getElementById('hangupButton').addEventListener('click', () => {
    document.getElementById('startButton').disabled = false;
    document.getElementById('callButton').disabled = true;
    document.getElementById('hangupButton').disabled = true;
  });
</script>